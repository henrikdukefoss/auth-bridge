<!DOCTYPE html>
<html>
  <head><title>Redirecting...</title></head>
  <body>
    <script>
      const params = new URLSearchParams(window.location.hash.slice(1));
      const access_token = params.get("access_token");
      const refresh_token = params.get("refresh_token");

      if (access_token && refresh_token) {
        // Trigger Electron app via deep link
        window.location.href = `overlai://auth?access_token=${access_token}&refresh_token=${refresh_token}`;

        // After short delay, redirect to your website
        setTimeout(() => {
          window.location.href = "https://www.overl.ai";
        }, 500); // enough time for Electron to capture the deep link
      } else {
        document.body.innerText = "Token(s) missing!";
        console.error("‚ùå Missing token(s):", { access_token, refresh_token });
      }
    </script>
  </body>
</html>
